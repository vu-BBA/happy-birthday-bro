@import url('https://fonts.googleapis.com/css?family=Baloo+2:700|Poppins:400,700&display=swap');

body {
  margin: 0;
  min-height: 100vh;
  font-family: 'Poppins', Arial, sans-serif;
  background-image: url("https://png.pngtree.com/background/20230214/original/pngtree-happy-birthday-pink-background-design-with-colorful-balloon-picture-image_2026908.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  display: flex;
  
}

.container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 80vh;
}

.letter-card {
  width: 360px;
  height: 260px;
  perspective: 1200px;
  position: relative;
  user-select: none;
  outline: none;
  box-shadow: 0 0 40px #ffb99733, 0 0 12px #ffb99722;
  border-radius: 28px;
  background: none;
  max-width: 98vw;
  max-height: 80vw;
}

.letter-front, .letter-page {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 28px;
  box-shadow: 0 3px 22px rgba(44,29,101,0.13);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;
  z-index: 1;
  background: none;
}

.letter-front {
  background: 
    linear-gradient(130deg, #FFD6E0 25%, #F6A9A9 74%),
    repeating-linear-gradient(45deg,#fdcdff 0 12px,#FFD6E0 12px 24px);
  cursor: pointer;
  text-align: center;
  z-index: 3;
  box-shadow: 0 4px 16px #ffd70044, 0 2px 8px #ff8c0044;
  animation: frontGlow 2s infinite alternate;
  border: 3px solid #fff6;
  overflow: hidden;
}
@keyframes frontGlow {
  from { box-shadow: 0 0 18px #fff2cc, 0 0 30px #ffb997; }
  to { box-shadow: 0 0 44px #FFD700, 0 0 50px #ff8c00; }
}
.letter-front .envelope-emoji {
  font-size: 4.2rem;
  display: block;
  filter: drop-shadow(0 3px 12px #ffd6a9);
  animation: envelopeBounce 2.2s infinite alternate;
}
@keyframes envelopeBounce {
  0% { transform: scale(1) translateY(0);}
  55% { transform: scale(1.1) translateY(-8px);}
  100% { transform: scale(1.03) translateY(0);}
}
.letter-front .open-text {
  margin-top: 12px;
  font-size: 1.3rem;
  color: #d2691e;
  letter-spacing: 2px;
  font-family: 'Baloo 2', cursive;
  font-weight: bold;
  animation: pulse 1.5s infinite alternate;
}
@keyframes pulse {
  from { color: #d2691e; }
  to { color: #ff8c00; }
}

/* FLIP ANIMATION */
.letter-card.flipped .letter-front {
  transform: rotateX(-96deg) scale(1.08);
  opacity: 0;
  pointer-events: none;
  animation: letter-bounce 0.7s;
}
@keyframes letter-bounce {
  0% { transform: rotateX(0deg) scale(1);}
  60% { transform: rotateX(-80deg) scale(1.15);}
  80% { transform: rotateX(-90deg) scale(1.08);}
  100% { transform: rotateX(-96deg) scale(1.08);}
}

/* PAGE 1 */
.letter-page.page1 {
  background: 
    linear-gradient(120deg, #f6eaff 60%, #fffbe8 100%);
  transform: rotateX(92deg);
  opacity: 0;
  z-index: 2;
  pointer-events: none;
  overflow: hidden;
}
.letter-card.flipped .page1 {
  transform: rotateX(0deg);
  opacity: 1;
  z-index: 4;
  pointer-events: auto;
  animation: slideup 0.55s;
}
@keyframes slideup {
  from { transform: rotateX(92deg) translateY(120px); opacity: 0; }
  to   { transform: rotateX(0deg) translateY(0px); opacity: 1; }
}
#page1 {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  text-align: center;
  height: 100%;
  width: 100%;
}

.cat-gif-wrapper {
  margin-top: 8px;
  margin-bottom: 6px;
  width: 200px;
  height: 170px;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 600px;
  max-width: 80vw;
  max-height: 36vw;
}
.cat-gif {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  box-shadow: 0 2px 18px #ffd6e088;
  border-radius: 18px;
  border: 2px solid #fff8;
  max-width: 100%;
  max-height: 100%;
}
.animated-bounce {
  animation: bounceCat 1.4s infinite alternate;
}
@keyframes bounceCat {
  0% { transform: scale(1) translateY(0);}
  70% { transform: scale(1.06) translateY(-9px) rotate(-3deg);}
  100% { transform: scale(1) translateY(0);}
}

/* GIFT LINK */
.gift-link {
  font-size: 2.1rem;
  text-decoration: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  margin-top: 13px;
  outline: none;
  border-radius: 12px;
  background: #fffbe8;
  padding: 8px 28px 2px 28px;
  box-shadow: 0 1px 10px #ffd7004a;
  border: 2px solid #ffb997;
  transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
  position: relative;
  overflow: visible;
  z-index: 5;
  max-width: 75vw;
}
.gift-link:focus, .gift-link:active {
  transform: scale(1.18) rotate(-8deg);
  box-shadow: 0 0 15px #ffe1f0;
  background: #fff2d1;
}
.gift-link:hover {
  cursor: url('https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f389.png'), pointer;
}
.gift-gif {
  width: 60px;
  height: 60px;
  border-radius: 12px;
  object-fit: cover;
  background: #fffbe8;
  border: 2px solid #ffb997;
  margin-bottom: 5px;
  box-shadow: 0 2px 10px #ffd6e0;
  z-index: 2;
  max-width: 100%;
  max-height: 100%;
}
.animated-shake {
  animation: shakeGift 1.15s infinite alternate;
}
@keyframes shakeGift {
  0% { transform: rotate(-5deg) scale(1);}
  50% { transform: rotate(7deg) scale(1.09);}
  100% { transform: rotate(-2deg) scale(1);}
}
.gift-text {
  font-size: 1.08rem;
  margin-bottom: 3px;
  font-weight: 700;
  letter-spacing: 1.5px;
  color: #ff59ac;
  text-shadow: 0 0 6px #ffd6e0;
  font-family: 'Poppins', Arial, sans-serif;
  animation: pulseGiftTxt 1.1s infinite alternate;
}
@keyframes pulseGiftTxt {
  from { color: #ff59ac; }
  to { color: #ff8c00; }
}

/* PAGE 2 */
.letter-page.page2 {
  background: linear-gradient(120deg, #d3ffe8 80%, #ffd6e0 100%);
  transform: rotateX(92deg);
  opacity: 0;
  z-index: 2;
  pointer-events: none;
  overflow: hidden;
}
.letter-card.double-flipped .page1 {
  transform: rotateX(-90deg);
  opacity: 0;
  pointer-events: none;
}
.letter-card.double-flipped .page2 {
  transform: rotateX(0deg);
  opacity: 1;
  z-index: 5;
  pointer-events: auto;
  animation: slideDown2 0.5s;
}
@keyframes slideDown2 {
  from { transform: rotateX(90deg) translateY(-40px); opacity: 0; }
  to { transform: rotateX(0deg) translateY(0); opacity: 1; }
}
.pray-title {
  font-family: 'Baloo 2', cursive;
  font-size: 1.5rem;
  margin: 0 0 20px 0;
  color: #49c24f;
  letter-spacing: 1.5px;
  text-align: center;
  text-shadow: 0 0 10px #d0ffe1, 0 0 18px #ffb997, 0 0 32px #fff;
  animation: happyGlow 2s infinite alternate;
}
@keyframes happyGlow {
  from { color: #49c24f; text-shadow: 0 0 10px #d0ffe1, 0 0 18px #ffb997, 0 0 32px #fff;}
  to   { color: #ff59ac; text-shadow: 0 0 22px #FFD700, 0 0 36px #ffb997, 0 0 64px #fff;}
}

h3{
  color: #61055c;
   font-weight:bold; 
   font-size:1.5rem;
   font-family:'Baloo 2', cursive;
   text-align: center;
text-shadow: 0 0 10px #fff677, 0 0 18px #c789b2, 0 0 32px #fff;
  animation: happyGlo 1s infinite alternate;
}
@keyframes happyGlo{
  from { color: #630d6b; text-shadow: 0 0 10px #d0ffe1, 0 0 18px #ffb997, 0 0 32px #fff;}
  to   { color: #ffc559; text-shadow: 0 0 22px #FFD700, 0 0 36px #ffb997, 0 0 64px #fff;}
}

p{
  font-size: 1rem;
  color: #ff61bd;
  margin: 0 0 20px 0;
  font-weight: bold;
  text-align: center;
  line-height: 1.4;
  font-family: 'Poppins', Arial, sans-serif;
  text-shadow: 0 0 10px #fff677, 0 0 18px #c789b2, 0 0 32px #fff;
  animation: happyGloo 2s infinite alternate;
}
@keyframes happyGloo{
  from { color: #ff52cb; text-shadow: 0 0 10px #d0ffe1, 0 0 18px;}
  to   { color: #25056e; text-shadow: 0 0 22px #14c0df, 0 0 36px}
}

/* Party Popper Animation */
.partypop {
  pointer-events: none;
  position: absolute;
  left: 0; right: 0; top: 0; height: 0; width: 100%;
  z-index: 10;
}
.confetti, .confetti-shape {
  position: absolute;
  width: 14px; height: 14px;
  opacity: 0.87;
  animation: confetti-fall 1.4s linear forwards;
}
@keyframes confetti-fall {
  0% { transform: translateY(0) scale(1) rotate(0deg);}
  100% { transform: translateY(180px) scale(0.7) rotate(360deg);}
}

/* Responsive Design */
@media (max-width: 600px) {
  .letter-card {
    width: 96vw;
    max-width: 340px;
    height: 200px;
    border-radius: 18px;
  }
  .cat-gif-wrapper { width: 90vw; max-width: 170px; height: 88px; }
  .cat-gif { border-radius: 12px; }
  .gift-gif { width: 36px; height: 36px; border-radius: 7px;}
  .gift-link { padding: 4px 7vw 1px 7vw;}
  .pray-title, .birthday-title { font-size: 1.04rem; }
}
@media (max-width: 400px) {
  .letter-card {
    width: 92vw;
    height: 145px;
  }
  .letter-front .envelope-emoji {
    font-size: 2.2rem;
  }
  .cat-gif-wrapper { width: 70vw; max-width: 100px; height: 38px;}
  .birthday-title, .pray-title { font-size: .83rem; }
  .gift-link { font-size: .99rem; }
}